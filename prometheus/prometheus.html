# Prometheus - принимает метрики от приложений
# Запуск
./prometheus-run.sh

# Просмотр
# http://127.0.0.1:9090/graph?g0.expr=&g0.tab=1&g0.stacked=0&g0.show_exemplars=0&g0.range_input=1h

Запуск в linux service

#cat /etc/systemd/system/prometheus.service
[Unit]
Description=Prometheus
Wants=network-online.target
After=network-online.target
[Service]
Type=simple
User=vasi
Group=vasi
ExecReload=/bin/kill -HUP
#ExecStart=/usr/local/bin/prometheus --config.file=/etc/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus --web.console.templates=/etc/prometheus/consoles --web.console.libraries=/etc/prometheus/console_libraries --web.listen-address=0.0.0.0:9090
ExecStart=/home/vasi/tools/prometheus/prometheus --config.file /etc/prometheus/prometheus.yml --storage.tsdb.path /var/lib/prometheus/
SyslogIdentifier=prometheus
Restart=always
[Install]
WantedBy=multi-user.target


#cat /etc/prometheus/prometheus.yml
scrape_configs:
# Write freely, suggest English, do not include special characters
- job_name: 'shop-kotlin'
# How often do you collect data
scrape_interval: 5s
# Timeout during collection
scrape_timeout: 1s
# Endpoint of collection
metrics_path: '/actuator/prometheus'
# The collected service address, i.e. the ip and port of the micro service
# Setting on shop_kotlin ()
# http://192.168.1.10:8788/actuator/prometheus
static_configs:
- targets: ['192.168.1.10:8788']