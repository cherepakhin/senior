Проверка конфигурации сервера apache2:
<pre class="language-java">
<code>$ sudo apachectl configtest
Syntax OK</code></pre>
Проверка наличия модуля <b>ssl</b> в apache http сервере:
<pre class="language-java">
<code>$ apachectl -M | grep ssl
[so:warn] [pid 7728] AH01574: module php7_module is already loaded, skipping
    ssl_module (shared)</code></pre>

Понадобятся два пакета: certbot и python3-certbot-apache.
Последний пакет – это плагин, который обеспечивает интеграцию Certbot и Apache:
<pre class="language-java">
<code>$ sudo apt install certbot python3-certbot-apache</code></pre>
Если установлено, то проверить актуальность сертификата:
<pre class="language-java">
<code>$ sudo certbot --apache -d v.perm.ru
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Plugins selected: Authenticator apache, Installer apache
Cert not yet due for renewal

You have an existing certificate that has exactly the same domains or certificate
 name you requested and isn't close to expiry.
(ref: /etc/letsencrypt/renewal/v.perm.ru.conf)

What would you like to do?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: Attempt to reinstall this existing certificate
2: Renew & replace the cert (limit ~5 per 7 days)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 1
Keeping the existing certificate
Deploying Certificate to VirtualHost /etc/apache2/sites-enabled/000-default.conf

Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for
new sites, or if you're confident your site works on HTTPS. You can undo this
change by editing your web server's configuration.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 1

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Congratulations! You have successfully enabled https://v.perm.ru

You should test your configuration at:
https://www.ssllabs.com/ssltest/analyze.html?d=v.perm.ru
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/v.perm.ru/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/v.perm.ru/privkey.pem
   Your cert will expire on ... . To obtain a new or tweaked
   version of this certificate in the future, simply run certbot again
   with the "certonly" option. To non-interactively renew *all* of
   your certificates, run "certbot renew"
</code></pre>
