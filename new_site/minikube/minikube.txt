-------------------------------
vasi@v:~/po/minikube$ sudo systemctl start docker
-------------------------------
vasi@v:~/po/minikube$ sudo systemctl status docker
â— docker.service - Docker Application Container Engine
     Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; preset: enabled)
     Active: active (running) since Sat 2024-10-19 17:16:43 +05; 2 weeks 2 days ago
TriggeredBy: â— docker.socket
       Docs: https://docs.docker.com
   Main PID: 2727 (dockerd)
      Tasks: 10
     Memory: 18.0M (peak: 108.4M swap: 9.4M swap peak: 9.6M)
        CPU: 3min 26.602s
     CGroup: /system.slice/docker.service
             â””â”€2727 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock
-------------------------------
https://kubernetes.io/docs/tutorials/hello-minikube/
-------------------------------
vasi@v:~$ minikube delete
-------------------------------
vasi@v:~/po/minikube$ minikube start
ğŸ˜„  minikube v1.34.0 on Linuxmint 22
âœ¨  Automatically selected the kvm2 driver
ğŸ‘  Starting "minikube" primary control-plane node in "minikube" cluster
ğŸ”¥  Creating kvm2 VM (CPUs=2, Memory=2900MB, Disk=20000MB) ...
ğŸ³  Preparing Kubernetes v1.31.0 on Docker 27.2.0 ...
    â–ª Generating certificates and keys ...
    â–ª Booting up control plane ...
    â–ª Configuring RBAC rules ...
ğŸ”—  Configuring bridge CNI (Container Networking Interface) ...
ğŸ”  Verifying Kubernetes components...
    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5
ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass
ğŸ’¡  kubectl not found. If you need it, try: 'minikube kubectl -- get pods -A'
ğŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default

-------------------------------
vasi@v:~$./kubectl cluster-info

-------------------------------
vasi@v:~$./kubectl cluster-info dump
-------------------------------
vasi@v:~/tools$ ssh vasi@192.168.39.197
pass
-------------------------------
$ minikube status
minikube
type: Control Plane
host: Running
kubelet: Stopped
apiserver: Stopped
kubeconfig: Configured
-------------------------------
Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° dashboard (https://kubernetes.io/docs/tutorials/hello-minikube/):
v$ minikube dashboard
-------------------------------
http://127.0.0.1:40233/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/
-------------------------------
vasi@v:~/tools$ ./kubectl cluster-info
Kubernetes control plane is running at https://192.168.39.197:8443
CoreDNS is running at https://192.168.39.197:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.

-------------------12/02/2025
https://minikube.sigs.k8s.io/docs/start/?arch=%2Flinux%2Fx86-64%2Fstable%2Fdebian+package

vasi@v:~/po/minikube$ sudo minikube start
ğŸ˜„  minikube v1.34.0 on Linuxmint 22
ğŸ‰  minikube 1.35.0 is available! Download it: https://github.com/kubernetes/minikube/releases/tag/v1.35.0
ğŸ’¡  To disable this notice, run: 'minikube config set WantUpdateNotification false'

ğŸ‘  Unable to pick a default driver. Here is what was considered, in preference order:
    â–ª kvm2: Not healthy: libvirt group membership check failed:
user is not a member of the appropriate libvirt group
    â–ª kvm2: Suggestion: Check that libvirtd is properly installed and that you are a member of the appropriate libvirt group (remember to relogin for group changes to take effect!) <https://minikube.sigs.k8s.io/docs/reference/drivers/kvm2/>
ğŸ’¡  Alternatively you could install one of these drivers:
    â–ª docker: Not installed: <nil>
    â–ª podman: Not installed: exec: "podman": executable file not found in $PATH
    â–ª qemu2: Not installed: stat /usr/share/OVMF/OVMF_CODE.fd: no such file or directory
    â–ª virtualbox: Not installed: unable to find VBoxManage in $PATH

âŒ  Exiting due to DRV_NOT_HEALTHY: Found driver(s) but none were healthy. See above for suggestions how to fix installed drivers.
-----------------------------
ĞÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ:
vasi@v:~$ sudo systemctl stop elasticsearch.service
[sudo] password for vasi:
vasi@v:~$ sudo systemctl stop nexus.service

ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ² Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ:
vasi@v:~/po/minikube$ sudo libvirtd
2025-02-11 21:13:04.288+0000: 19300: info : libvirt version: 10.0.0, package: 10.0.0-2ubuntu8.5 (Ubuntu)
2025-02-11 21:13:04.288+0000: 19300: info : hostname: v.perm.ru
2025-02-11 21:13:04.288+0000: 19300: warning : virSecurityManagerNew:194 : Configured security driver "none" disables default policy to create confined guests

Minikube:
https://minikube.sigs.k8s.io/docs/start/?arch=%2Flinux%2Fx86-64%2Fstable%2Fdebian+package

vasi@v:~$ minikube start
ğŸ˜„  minikube v1.34.0 on Linuxmint 22
âœ¨  Using the kvm2 driver based on existing profile
ğŸ‘  Starting "minikube" primary control-plane node in "minikube" cluster
ğŸ‰  minikube 1.35.0 is available! Download it: https://github.com/kubernetes/minikube/releases/tag/v1.35.0
ğŸ”„  Restarting existing kvm2 VM for "minikube" ...
ğŸ’¡  To disable this notice, run: 'minikube config set WantUpdateNotification false'

ğŸ³  Preparing Kubernetes v1.31.0 on Docker 27.2.0 ...-
ğŸ”—  Configuring bridge CNI (Container Networking Interface) ...
ğŸ”  Verifying Kubernetes components...
    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5
    â–ª Using image docker.io/kubernetesui/dashboard:v2.7.0
    â–ª Using image docker.io/kubernetesui/metrics-scraper:v1.0.8
ğŸ’¡  Some dashboard features require the metrics-server addon. To enable all features please run:

	minikube addons enable metrics-server

ğŸŒŸ  Enabled addons: default-storageclass, storage-provisioner, dashboard
ğŸ’¡  kubectl not found. If you need it, try: 'minikube kubectl -- get pods -A'
ğŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default

ĞĞ• SUDO!!!

Ğ–Ğ”ĞĞ¢Ğ¬! Ğ”ĞĞ›Ğ“Ğ!
"minikube start" Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ ĞºĞ°Ğº Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ°. Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ² Virtual Machine Manager: virt_manager.png

Kubectl ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ° Ğ² tools. ĞĞ¾ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ¼ĞµĞ½Ñƒ minikube Ñ‚Ğ°Ğº:
vasi@v:~$ minikube kubectl -- get pods -A
NAMESPACE              NAME                                        READY   STATUS    RESTARTS         AGE
default                hello-minikube-7d48979fd6-rzrpl             1/1     Running   2 (7m28s ago)    98d
kube-system            coredns-6f6b679f8f-s88vl                    1/1     Running   5 (7m28s ago)    99d
kube-system            etcd-minikube                               1/1     Running   6 (7m28s ago)    99d
kube-system            kube-apiserver-minikube                     1/1     Running   9 (7m28s ago)    99d
kube-system            kube-controller-manager-minikube            1/1     Running   11 (5m21s ago)   99d
kube-system            kube-proxy-m9qrf                            1/1     Running   5 (7m28s ago)    99d
kube-system            kube-scheduler-minikube                     1/1     Running   5 (7m28s ago)    99d
kube-system            storage-provisioner                         1/1     Running   12 (2m38s ago)   99d
kubernetes-dashboard   dashboard-metrics-scraper-c5db448b4-dxz29   1/1     Running   2 (7m28s ago)    98d
kubernetes-dashboard   kubernetes-dashboard-695b96c756-7mjb7       1/1     Running   7 (118s ago)     98d

vasi@v:~/tools$ ./kubectl cluster-info
Kubernetes control plane is running at https://192.168.39.197:8443
CoreDNS is running at https://192.168.39.197:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

$ minikube dashboard

ğŸ¤·  Unable to get control-plane node minikube apiserver status: https://192.168.39.197:8443/healthz returned error 500:
[+]ping ok
[+]log ok
[-]etcd failed: reason withheld
[+]poststarthook/start-apiserver-admission-initializer ok
[+]poststarthook/generic-apiserver-start-informers ok
[+]poststarthook/priority-and-fairness-config-consumer ok
[+]poststarthook/priority-and-fairness-filter ok
[+]poststarthook/storage-object-count-tracker-hook ok
[+]poststarthook/start-apiextensions-informers ok
[+]poststarthook/start-apiextensions-controllers ok
[+]poststarthook/crd-informer-synced ok
[+]poststarthook/start-system-namespaces-controller ok
[+]poststarthook/start-cluster-authentication-info-controller ok
[+]poststarthook/start-kube-apiserver-identity-lease-controller ok
[+]poststarthook/start-kube-apiserver-identity-lease-garbage-collector ok
[+]poststarthook/start-legacy-token-tracking-controller ok
[+]poststarthook/start-service-ip-repair-controllers ok
[+]poststarthook/rbac/bootstrap-roles ok
[+]poststarthook/scheduling/bootstrap-system-priority-classes ok
[+]poststarthook/priority-and-fairness-config-producer ok
[+]poststarthook/bootstrap-controller ok
[+]poststarthook/aggregator-reload-proxy-client-cert ok
[+]poststarthook/start-kube-aggregator-informers ok
[+]poststarthook/apiservice-status-local-available-controller ok
[+]poststarthook/apiservice-status-remote-available-controller ok
[+]poststarthook/apiservice-registration-controller ok
[+]poststarthook/apiservice-discovery-controller ok
[+]poststarthook/kube-apiserver-autoregistration ok
[+]autoregister-completion ok
[+]poststarthook/apiservice-openapi-controller ok
[+]poststarthook/apiservice-openapiv3-controller ok
healthz check failed

ğŸ‘‰  To start a cluster, run: "minikube delete"

vasi@v:~/tools$ ./kubectl get services hello-minikube
NAME             TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE
hello-minikube   NodePort   10.108.134.29   <none>        8080:31516/TCP   98d

ĞŸĞĞ”ĞĞ–Ğ”ĞĞ¢Ğ¬!

vasi@v:~/tools$ minikube dashboard
ğŸ¤”  Verifying dashboard health ...
ğŸš€  Launching proxy ...
ğŸ¤”  Verifying proxy health ...
ğŸ‰  Opening http://127.0.0.1:36781/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ in your default browser...
Found ffmpeg: /opt/yandex/browser/libffmpeg.so
	avcodec: 3999080
	avformat: 3998567
	avutil: 3871588
Ffmpeg version is OK! Let's use it.
Opening in existing browser session.

ĞĞ¢ĞšĞ Ğ«Ğ›ĞĞ¡Ğ¬ ĞĞ v:
http://127.0.0.1:36781/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/#/workloads?namespace=default
Ñ Ğ½Ğ¾ÑƒÑ‚Ğ° Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ. Ğ”Ğ»Ñ Ñ‚Ğ¾Ğ³Ğ¾, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ñ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ°, Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ :
vasi@v:~/tools$ kubectl proxy --address='0.0.0.0' --disable-filter=true

ĞŸĞ¾ÑĞ»Ğµ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ½Ğ° ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ¼Ğ°ÑˆĞ¸Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ:
http://192.168.1.20:8001/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/#/workloads?namespace=default

Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¾Ñ‚ÑÑĞ´Ğ° https://stackoverflow.com/questions/47173463/how-to-access-local-kubernetes-minikube-dashboard-remotely.