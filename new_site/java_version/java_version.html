<p>В системе настройки сделаны для java 11. В путях linux указана <b>java 11</b>. Нужно настроить maven проект на <b>java 17</b>.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">$ java -version
openjdk version <span style="color: #0000ff;">"11.0.18"</span> 2023-01-17
</pre>
</div>
<p>Нужна java 17, для этого нужно установить JAVA_HOME.</p>
<hr id="system-readmore" />
Для временной установки в консоли выполнить:</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">
export JAVA_HOME=/usr/lib/jvm/java-1.17.0-openjdk-amd64
</pre>
</div>
Для установки JAVA_HOME скриптом set_java17.sh:</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">
#!/bin/bash
echo $JAVA_HOME
export JAVA_HOME=/usr/lib/jvm/java-1.17.0-openjdk-amd64
echo $JAVA_HOME
</pre>
</div>
выполнить:</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">
source ./set_java_home.sh
</pre>
</div>
(Команда source в Bash — встроенная функция, которая выполняет команды из файла в <b>текущей</b> среде оболочки, а не запускает <b>новый дочерний процесс</b>.)
<br/>
Для постоянной установки в .bashrc добавить строку
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
</pre>
</div>
<p>Проверка:</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">$ echo $JAVA_HOME
/usr/lib/jvm/java-17-openjdk-amd64

$ /usr/lib/jvm/java-17-openjdk-amd64/bin/java -version
openjdk version <span style="color: #0000ff;">"17.0.6"</span> 2023-01-17

~/prog/java/s253/gs-spring-boot/complete$ ./mvnw -version
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)
Maven home: /home/vasi/.m2/wrapper/dists/apache-maven-3.6.3-bin/1iopthnavndlasol9gbrbg6bf2/apache-maven-3.6.3
    <b>Java version: 17.0.6</b>, vendor: Private Build, runtime: <b>/usr/lib/jvm/java-17-openjdk-amd64</b>

~/prog/java/s253/gs-spring-boot/complete$ ./mvnw clean package
..........  см. ниже в логе (using Java 17.0.6 on vasi-note with PID 11618)
:: Spring Boot ::                (v2.5.3)

2023-04-29 17:26:02.184  INFO 11618 --- [           main] c.e.springboot.HelloControllerTest       :
Starting HelloControllerTest using Java 17.0.6 on vasi-note with PID 11618 (started by vasi in /home/vasi/prog/java/s253/gs-spring-boot/complete)
..........
</pre>
</div>
<p><b>ХОТЯ! в pom.xml указано</b> properties - java.version = 11. И</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">$ java -version
openjdk version <span style="color: #0000ff;">"11.0.18"</span> 2023-01-17
</pre>
</div>
<p><b>Maven использует в своем скрипте JAVA_HOME! Куда указывает $PATH на бинарник java не имеет значения.</b> <br />JAVA_HOME должна указывать на папку, содежащую bin/, lib/ и т.п.</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">$ echo $JAVA_HOME
/usr/lib/jvm/java-<b>17-openjdk-amd64</b>

$ echo $PATH
.../opt/maven/bin:/usr/lib/jvm/java-16-oracle/bin:/usr/lib/jvm/java-<b>16-oracle</b>/db/bin...

$ mvn -version
Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)
Maven home: /opt/maven
Java version: <b><u>17.0.7</u></b>, vendor: Private Build, runtime: /usr/lib/jvm/java-17-openjdk-amd64
Default locale: ru_RU, platform encoding: UTF-8
OS name: <span style="color: #0000ff;">"linux"</span>, version: <span style="color: #0000ff;">"5.4.0-150-generic"</span>, arch: <span style="color: #0000ff;">"amd64"</span>, family: <span style="color: #0000ff;">"unix"</span>

$ gradle -version

------------------------------------------------------------
Gradle 6.7
------------------------------------------------------------

Build time:   2020-10-14 16:13:12 UTC
Revision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3

Kotlin:       1.3.72
Groovy:       2.5.12
Ant:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020
JVM:          <b><u>17.0.7</u></b> (Private Build 17.0.7+7-Ubuntu-0ubuntu118.04)
OS:           Linux 5.4.0-150-generic amd64
</pre>
</div>
<p>Добавить в .bashrc</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
</pre>
</div>
<p>Можно таким способом, средствами ОС, через link (ln -s ...) на каталог java:</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">$ echo $JAVA_HOME
/usr/local/sdkman/candidates/java/currents
</pre>
</div>
<p>KOTLIN тоже использует JAVA_HOME</p>
<h3>Windows</h3>
<p>($ - promt command line)<br />В cmd:</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">$ set JAVA_HOME=c:\po\java11
$ echo %JAVA_HOME%
c:\po\java11
</pre>
</div>
<p>В PowerShell:</p>
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">// установить переменную
$ [Environment]::SetEnvironmentVariable("JAVA_HOME","c:\po\java11")
// проверить переменную
$ $env:JAVA_HOME
c:\po\java11
</pre>
</div>
<p>Java Class File Versions (<a style="text-decoration: underline; color: #3366ff;" href="https://howtodoinjava.com/java/exception-handling/class-file-has-wrong-version/" target="_blank" rel="noopener noreferrer">https://howtodoinjava.com/java/exception-handling/class-file-has-wrong-version/</a>):</p>
<figure class="wp-block-table">
    <table class="has-fixed-layout" >
        <thead>
        <tr>
            <th align="center" style="padding-left: 2em; padding-right: 2em;">Java Version</th>
            <th align="center" style="padding-left: 2em; padding-right: 2em;">Class File Version</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td align="center">Java 8</td>
            <td align="center">52.0</td>
        </tr>
        <tr>
            <td align="center">Java 9</td>
            <td align="center">53.0</td>
        </tr>
        <tr>
            <td align="center">Java 10</td>
            <td align="center">54.0</td>
        </tr>
        <tr>
            <td align="center">Java 11</td>
            <td align="center">55.0</td>
        </tr>
        <tr>
            <td align="center">Java 12</td>
            <td align="center">56.0</td>
        </tr>
        <tr>
            <td align="center">Java 13</td>
            <td align="center">57.0</td>
        </tr>
        <tr>
            <td align="center">Java 14</td>
            <td align="center">58.0</td>
        </tr>
        <tr>
            <td align="center">Java 15</td>
            <td align="center">59.0</td>
        </tr>
        <tr>
            <td align="center">Java 16</td>
            <td align="center">60.0</td>
        </tr>
        <tr>
            <td align="center">Java 17</td>
            <td align="center">61.0</td>
        </tr>
        <tr>
            <td align="center">Java 18</td>
            <td align="center">62.0</td>
        </tr>
        <tr>
            <td align="center">Java 19</td>
            <td align="center">63.0</td>
        </tr>
        <tr>
            <td align="center">Java 20</td>
            <td align="center">64.0</td>
        </tr>
        <tr>
            <td align="center">Java 21</td>
            <td align="center">65.0</td>
        </tr>
        <tr>
            <td align="center">Java 22</td>
            <td align="center">66.0</td>
        </tr>
        <tr>
            <td align="center">Java 23</td>
            <td align="center">67.0</td>
        </tr>
        <tr>
            <td align="center">Java 24</td>
            <td align="center">68.0</td>
        </tr>
        </tbody>
    </table>
</figure>

Установка версии Java в Linux с update-alternatives:
<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
    <pre style="margin: 0; line-height: 125%;">$ sudo update-alternatives --config java
There are 2 choices for the alternative java (providing /usr/bin/java).

  Selection    Path                                         Priority   Status
------------------------------------------------------------
* 0            /usr/lib/jvm/java-17-openjdk-amd64/bin/java   1711      auto mode
  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      manual mode
  2            /usr/lib/jvm/java-17-openjdk-amd64/bin/java   1711      manual mode

Press <enter> to keep the current choice[*], or type selection number: 1
update-alternatives: using /usr/lib/jvm/java-11-openjdk-amd64/bin/java to provide /usr/bin/java (java) in manual mode
</pre></div>

В Linux, после установки JAVA_HOME, нужно <b>перезайти</b> в shell.
<br/>
Для генерации wrapper для Maven 3.5.2 нужно запустить:

<div style="background: #ffffff; overflow: auto; width: auto; border: solid #092A8F; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
    <pre style="margin: 0; line-height: 125%;">$ mvn -N wrapper:wrapper -Dmaven=3.5.2
</pre></div>

<br/>
Смена версии gradle для проекта:<br/>
<div style="background: #ffffff; overflow:auto;width:auto;border:solid #092A8F;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">
./gradlew wrapper --gradle-version 7.4.2
</pre></div>