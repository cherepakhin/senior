<p>
    Пример:
    <a
      title="Пример build.gradle.kts" href="https://github.com/cherepakhin/shop_kotlin/blob/dev/build.gradle.kts"
      target="_blank" rel="noopener noreferrer">
        <strong>https://github.com/cherepakhin/shop_kotlin/blob/dev/build.gradle.kts</strong>
    </a>
</p>
<pre class="language-xml"><code>plugins {
    val kotlinVersion = "1.8.0"
    id("org.springframework.boot") version "2.5.6"
    kotlin("jvm") version kotlinVersion
    kotlin("plugin.spring") version kotlinVersion
    kotlin("plugin.jpa") version kotlinVersion
    id("maven-publish")
    id("io.qameta.allure") version "2.8.1"
}

publishing {
    repositories {
        maven {
            url = uri("http://192.168.1.20:8081/repository/ru.perm.v/")
            isAllowInsecureProtocol = true
            //  for publish to nexus do "./gradlew publish" form notebook and Jenkins
            // export NEXUS_CRED_USR=admin
            // echo $NEXUS_CRED_USR
            credentials {
                username = System.getenv("NEXUS_CRED_USR")
                password = System.getenv("NEXUS_CRED_PSW")
            }
        }
}
publications {
    register("mavenJava", MavenPublication::class) {
        from(components["java"])
        }
    }
}
</code></pre>