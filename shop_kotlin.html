<p dir="auto" tabindex="-1"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Проект: <a title="Источник" href="https://github.com/cherepakhin/shop_kotlin">https://github.com/cherepakhin/shop_kotlin</a></span></p>
<h3>Оглавление:</h3>
<ul>
    <li><a href="#Target">Цель</a></li>
    <li><a href="#jpa_kotlin">JPA Entity классы с Kotlin</a></li>
    <li><a href="#idea_analize">Статический анализатор Idea Analize</a></li>
    <li><a href="#sonarcube_analize">Статический анализатор SonarCube</a></li>
</ul>

<hr id="system-readmore"/>
Проект:
<a title="https://github.com/cherepakhin/shop_kotlin" href="https://github.com/cherepakhin/shop_kotlin"
   style="text-decoration: underline; color: #3366ff;"
   target="_blank" rel="noopener noreferrer">https://github.com/cherepakhin/shop_kotlin</a>

<a id="Target"></a>
<h3 dir="auto" tabindex="-1" data-react-autofocus="true"><a id="user-content-цель" class="anchor" tabindex="-1" href="https://github.com/cherepakhin/shop_kotlin?tab=readme-ov-file#%D1%86%D0%B5%D0%BB%D1%8C"></a>Цель</h3>
<p dir="auto">Cоздать небольшое приложение на <b>Kotlin</b> с использованием <b>Spring Boot</b>. Справочник товаров со следующими типами:</p>
<ul dir="auto">
    <li>Настольные компьютеры</li>
    <li>Ноутбуки</li>
    <li>Мониторы</li>
    <li>Жесткие диски</li>
</ul>
<p>Каждый товар имеет следующие свойства:</p>
<ul dir="auto">
    <li>номер серии</li>
    <li>производитель</li>
    <li>цена</li>
    <li>количество единиц продукции на складе</li>
</ul>
<p dir="auto">Дополнительные свойства:</p>
<ul dir="auto">
    <li>Настольные компьютеры имеют форм-фактор: десктопы, неттопы, моноблоки</li>
    <li>Ноутбуки подразделяются по размеру: 13, 14, 15, 17 дюймовые</li>
    <li>Мониторы имеют диагональ</li>
    <li>Жесткие диски имеют объем</li>
</ul>
<p>Необходимо реализовать back-end приложение, которое имеет RESTful HTTP методы выполняющие:</p>
<ul dir="auto">
    <li>Добавление товара</li>
    <li>Редактирование товара</li>
    <li>Просмотр всех существующих товаров по типу</li>
    <li>Просмотр товара по идентификатору</li>
</ul>
В качестве базы данных использовать in memory database, например H2.<br/>
<a id="jpa_kotlin"></a>
<h3 dir="auto">JPA Entity классы с Kotlin</h3>
<p dir="auto">Источник:<a href="https://habr.com/ru/companies/haulmont/articles/572574/" rel="nofollow">https://habr.com/ru/companies/haulmont/articles/572574/</a><br />Примеры из источника: <a href="https://github.com/Klimenkoob/spring-kotlin-hibernate">https://github.com/Klimenkoob/spring-kotlin-hibernate</a></p>
<p dir="auto">Рекомендации:</p>
<ol dir="auto">
    <li><strong>Data class not recommended for JPA Entity</strong> . Warning in Idea. Почему не использовать Data-классы? Потому что они финальны сами по себе, имеют по всем полям определенные equals, hashCode и toString. А это недопустимо в связке с Hibernate.</li>
    <li>Явно помечать ключевым словом <strong>open</strong> все Entity. Согласно спецификации JPA, все классы и свойства, связанные с JPA, не должны быть <strong>final</strong>. В отличие от Java, в Kotlin классы, свойства и методы по умолчанию final. Поэтому их нужно явно помечать ключевым словом <strong>open</strong>.</li>
    <li><strong>Явно определять</strong> hashCode(), equals(), toString(). При определении внимание на <strong>lazy</strong> поля (как и в Java).</li>
    <li>Добавить <strong>nullable = false</strong></li>
</ol>
<div class="highlight highlight-source-kotlin notranslate position-relative overflow-auto" dir="auto">
<pre class="language-shell"><code>@ManyToOne(fetch = FetchType.LAZY, optional = false)
   @JoinColumn(name = "client_id", nullable = false)
   lateinit var client: Client </code></pre>
</div>
